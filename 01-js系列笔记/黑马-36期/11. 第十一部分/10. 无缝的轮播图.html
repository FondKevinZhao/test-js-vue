<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <style>
    #pic {
      margin: 0 auto;
      position: relative;
      width: 1130px;
      height: 286px;
      /* border:1px solid green; */
      overflow: hidden;
    }

    #pic ul {
      position: absolute;
      top: 0px;
      left: 0px;


      /*  border:1px solid red; */
      width: 5650px;
      height: 286px;
      list-style-type: none;
      margin: 0;
      padding: 0;
    }

    #pic ul li {
      float: left;
      width: 1130px;
      height: 100%;
    }

    #pic ul li a {
      display: block;
      height: 100%;
    }

    #pic ul li img {
      width: 100%;
      height: 100%;
    }

    /*设置小箭头*/
    .arrow-p,
    .arrow-n {
      position: absolute;
      width: 42px;
      height: 70px;
      /* border:1px solid green; */
      top: 50%;
      margin-top: -35px;
      cursor: pointer;
      background-image: url('./imgs/icon-slides.png');
    }

    .arrow-p {
      left: 0px;
      background-position: -84px 0px;
    }

    .arrow-n {
      right: 0px;
      background-position: -124px 0px;
    }

    #pic:hover .arrow-p {
      background-position: 0px 0px;
    }

    #pic:hover .arrow-n {
      background-position: -42px 0px;
    }

    #pic-button {
      width: 100px;
      height: 10px;

      position: absolute;
      bottom: 20px;
      left: 50%;
      margin-left: -50px;
    }

    #pic-button span {
      float: left;
      width: 10px;
      height: 10px;
      margin: 0 5px;
      background-color: rgba(0, 0, 0, .3);
      cursor: pointer;
    }

    #pic-button span.active {
      background-color: #fff;
    }
  </style>
</head>

<body>
  <div class="box" id="box">
    <div id="pic" class="inner">
      <ul>
        <li>
          <a href="#">
            <img src="./imgs/0149115f23ab31a80120a8212535f0.png" />
          </a>
        </li>
        <li>
          <a href="#">
            <img src="./imgs/0121365f23ed70a80120a82197289b.png" />
          </a>
        </li>
        <li>
          <a href="#">
            <img src="./imgs/015e9c5f23ab15a801215aa0795d4e.png" />
          </a>
        </li>
        <li>
          <a href="#">
            <img src="./imgs/012f595f23ab03a80120a8218c8e64.png" />
          </a>
        </li>
        <li>
          <a href="#">
            <img src="./imgs/0149115f23ab31a80120a8212535f0.png" />
          </a>
        </li>
      </ul>
      <span class="arrow-p" id="arrowLeft"></span>
      <span class="arrow-n" id="arrowRight"></span>
      <div id="pic-button">
        <span class="active"></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>

  <!-- 获取元素 -->
  <script src="./common.js"></script>
  <script>
    /* 
      无缝轮播图重点：
        - 第一张和最后一张图是一样的图片(共两张图，第一张图和最后一张图)
        - 判断里面的 current = 0; --- 灵魂之笔
    */

    function f1() {
      current -= 6;
      // 获取ul
      ulObj = my$('pic').children[0];
      if (current < -4520) { // 如果是5张图，那么这个负数就是五张图的的宽度减去一张图的宽度(换句话说，如果是5张图，只要写4张图的宽度即可)
        ulObj.style.left = 0 + 'px';
        // 执行到这里面来的时候，else里面的代码是不执行的，那么current = 0; 过了10毫秒计时器重新开启
        current = 0;
      } else {
        ulObj.style.left = current + 'px';
      }
    }
    var current = 0; // 目前的位置
    var timeId = setInterval(f1, 10);

    

    // 鼠标进入停止轮播
    // 获取ul
    ulObj = my$('pic').children[0]
    ulObj.onmouseover = function () {
      // 清除计时器
      clearInterval(timeId);
    }

    // 鼠标离开继续轮播
    ulObj.onmouseout = function () {
      clearInterval(timeId);
      timeId = setInterval(f1, 10);
    }
  </script>
</body>

</html>