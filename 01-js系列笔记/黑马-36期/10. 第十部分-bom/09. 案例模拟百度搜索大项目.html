<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div id="box">
    <input type="text" id="txt" value="" placeholder="请输入内容">
  </div>



  <!-- 获取元素 -->
  <script src="./common.js"></script>
  <script>
    var keyWords = ['小杨才是最纯洁的', '小杨才是最帅的', '小段是最猥琐的', '小超是最龌龊的', '传智播客是一个培训机构', '传说在传智有个很帅很纯洁的小杨', '苹果好吃', '苹果此次召回还是没有中国'];

    // 获取文本框注册键盘抬起事件：onkeyup
    my$('txt').onkeyup = function () {
      // 坑1----------------------------------------开始
      // 每一次的键盘抬起都判断页面中有没有这个div
        if (my$('dv')) {
          // 删除一次
          my$('box').removeChild(my$('dv'));
        }
      // 坑1----------------------------------------完


      // 获取文本框的内容
      var text = this.value;
      // 临时数组，作用：存放对应上的数据
      var tempArr = [];
      // 把文本框输入的内容和数组中的每个数据对比
      for (var i = 0; i < keyWords.length; i++) {
        // 是否是最开始出现的
        if (keyWords[i].indexOf(text) == 0) {
          tempArr.push(keyWords[i]); // 追加
        }
      }


      // 坑2----------------------------------------开始
      // 如果文本框是空的，临时数组是空的，不用创建div
      if (text.length == 0 || tempArr.length == 0) {
        // 如果页面中有这个div，删除这个div
        if (my$('dv')) {
          my$('box').removeChild(my$('dv'));
        }
        return;
      }
      // 坑2----------------------------------------完

      // 创建div，并且把div加入到id为box的div中
      var dvObj = document.createElement('div');
      my$('box').appendChild(dvObj);
      dvObj.id = 'dv';
      dvObj.style.width = '168px';
      dvObj.style.border = '1px solid green';
      dvObj.style.cursor = 'pointer';
      // 鼠标进入
      dvObj.onmouseover = function () {
        this.style.backgroundColor = 'yellow';
      }

      // 鼠标离开 
      dvObj.onmouseout = function () {
        this.style.backgroundColor = '';
      }

      // 遍历临时数组，创建对应的p标签
      for (var i = 0; i < tempArr.length; i++) {
        // 创建对应的p标签
        var pObj = document.createElement('p');
        // 把p标签追加到id为dv的div中
        dvObj.appendChild(pObj);
        pObj.innerText = tempArr[i];
      }

    }
  </script>
  <!-- 如果不用indexOf用includes呢？ -->
</body>

</html>