<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <style>
    #pic {
      margin: 0 auto;
      position: relative;
      width: 1130px;
      height: 286px;
      /* border:1px solid green; */
      overflow: hidden;
    }

    #pic ul {
      position: absolute;
      top: 0px;
      left: 0px;


      /*  border:1px solid red; */
      width: 5650px;
      height: 286px;
      list-style-type: none;
      margin: 0;
      padding: 0;
    }

    #pic ul li {
      float: left;
      width: 1130px;
      height: 100%;
    }

    #pic ul li a {
      display: block;
      height: 100%;
    }

    #pic ul li img {
      width: 100%;
      height: 100%;
    }

    /*设置小箭头*/
    .arrow-p,
    .arrow-n {
      position: absolute;
      width: 42px;
      height: 70px;
      /* border:1px solid green; */
      top: 50%;
      margin-top: -35px;
      cursor: pointer;
      background-image: url('./imgs/icon-slides.png');
    }

    .arrow-p {
      left: 0px;
      background-position: -84px 0px;
    }

    .arrow-n {
      right: 0px;
      background-position: -124px 0px;
    }

    #pic:hover .arrow-p {
      background-position: 0px 0px;
    }

    #pic:hover .arrow-n {
      background-position: -42px 0px;
    }

    #pic-button {
      width: 100px;
      height: 10px;

      position: absolute;
      bottom: 20px;
      left: 50%;
      margin-left: -50px;
    }

    #pic-button span {
      float: left;
      width: 10px;
      height: 10px;
      margin: 0 5px;
      background-color: rgba(0, 0, 0, .3);
      cursor: pointer;
    }

    #pic-button span.active {
      background-color: #fff;
    }
  </style>
</head>

<body>
  <div class="box" id="box">
    <div id="pic" class="inner">
      <ul>
        <li>
          <a href="#">
            <img src="./imgs/0149115f23ab31a80120a8212535f0.png" />
          </a>
        </li>
        <li>
          <a href="#">
            <img src="./imgs/0121365f23ed70a80120a82197289b.png" />
          </a>
        </li>
        <li>
          <a href="#">
            <img src="./imgs/015e9c5f23ab15a801215aa0795d4e.png" />
          </a>
        </li>
        <li>
          <a href="#">
            <img src="./imgs/012f595f23ab03a80120a8218c8e64.png" />
          </a>
        </li>
        <li>
          <a href="#">
            <img src="./imgs/0148a25f23aaf6a801215aa038b8a3.png" />
          </a>
        </li>
      </ul>
      <span class="arrow-p" id="arrowLeft"></span>
      <span class="arrow-n" id="arrowRight"></span>
      <div id="pic-button">
        <span class="active"></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>

  <!-- 获取元素 -->
  <script src="./common.js"></script>
  <script>
    /* // 获取最外面的div
    var box = my$('box');
    // 获取相框
    var inner = box.children[0];
    // 获取相框的宽度
    var imgWidth = inner.offsetWidth;
    // 获取ul
    var ulObj = inner.children[0];
    // 获取所有的span标签
    var spanObjs = my$('pic-button').children;

    // 功能操作：
    // 循环遍历所有的span标签，注册鼠标进入的事件
    for (var i = 0; i < spanObjs.length; i++) {
      // 循环的时候把索引值保存在每个span的自定义属性中(为了在移动ul的时候用)
      spanObjs[i].setAttribute('index', i);
      // 注册鼠标进入事件
      spanObjs[i].onmouseover = function () {
        // 先干掉所有的span的背景颜色
        for (var j = 0; j < spanObjs.length; j++) {
          // 移除了每个span的类样式
          spanObjs[j].removeAttribute('class');
        }
        // 设置当前的span的背景颜色
        this.className = 'active';

        // 移动ul(每个图片的宽 * 鼠标放在这个按钮的索引值)，可以使用自定义属性保存索引值
        // 获取当前鼠标进入的span的索引
        var index = this.getAttribute('index');
        // 自己封装的动画
        animate(ulObj, -index * imgWidth);
      }
    } */



    // 左右焦点轮播图
    // 获取最外面的div
    var box = my$('box');
    // 获取相框
    var inner = box.children[0];
    // 获取相框的宽度
    var imgWidth = inner.offsetWidth;
    // 获取ul
    var ulObj = inner.children[0];

    // 功能：
    // 获取右箭头 arrowRight，并添加事件
    var index = 0; // 给点击添加索引
    my$('arrowRight').onclick = function () {
      // 判断，index是否小于图片的个数(要减一，如果有5张图片，最终出去四个，还有一个要显示，不然就会变空白)
      if (index < ulObj.children.length - 1) {
        index++;
        animate(ulObj, -index * imgWidth);
      }
    }
    // 获取左箭头 arrowLeft，并添加事件
    my$('arrowLeft').onclick = function () {
      if (index > 0) {
        index--;
        animate(ulObj, -index * imgWidth);
      }
    }

  </script>
</body>

</html>