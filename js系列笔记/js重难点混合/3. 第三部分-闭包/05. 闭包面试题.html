<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    // 1. 
    /* function a() {
      var b = 1;
      return function () {
        b++;
        return b;
      }
    }
    var add = a();
    // 外部变量一直被内部保存，没执行一次，都会在上次调用的基础上加1
    console.log(add());
    console.log(add());
    console.log(add()); */



    // 2. 这里我们也可以看到，虽然函数没有嵌套，但是内部函数使用了全局的变量，这个值仍然被保存下来了
    /* var a = 1;
    function add() {
      a++;
      console.log(a);
    }
    add();
    add(); */


    // 如果把变量写在函数的内部，这个值就不会被保存起来
    /* function add() {
      var a = 1;
      a++;
      console.log(a);
    }
    add();
    add(); */



    // 3. 
    /* function add() {
      var count = 1000;
      function inner() {
        count++;
        alert(count);
      }
      return inner;
    }
    var fAdd = add();
    fAdd();
    fAdd(); */



    // 4. 
    var i = 5;
    function fn(i) {
      return function (n) {
        console.log(n + (++i));
      }
    }
    var f = fn(1);
    f(2);
    fn(3)(4); 
    fn(5)(6);
    f(7); // 这个跟 fn(3)(4); 和 fn(5)(6); 是没有关联的。f(7); 跟 f(2); 是有关联的
    console.log(i);
  </script>
</body>

</html>